/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/polls/route";
exports.ids = ["app/api/polls/route"];
exports.modules = {

/***/ "(rsc)/../../../node_modules/.pnpm/next@15.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpolls%2Froute&page=%2Fapi%2Fpolls%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpolls%2Froute.ts&appDir=%2FUsers%2Fdohyeonkim%2Fk2030-platform%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdohyeonkim%2Fk2030-platform%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../../node_modules/.pnpm/next@15.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpolls%2Froute&page=%2Fapi%2Fpolls%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpolls%2Froute.ts&appDir=%2FUsers%2Fdohyeonkim%2Fk2030-platform%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdohyeonkim%2Fk2030-platform%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/../../../node_modules/.pnpm/next@15.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/../../../node_modules/.pnpm/next@15.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../../../node_modules/.pnpm/next@15.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_dohyeonkim_k2030_platform_apps_web_app_api_polls_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/polls/route.ts */ \"(rsc)/./app/api/polls/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/polls/route\",\n        pathname: \"/api/polls\",\n        filename: \"route\",\n        bundlePath: \"app/api/polls/route\"\n    },\n    resolvedPagePath: \"/Users/dohyeonkim/k2030-platform/apps/web/app/api/polls/route.ts\",\n    nextConfigOutput,\n    userland: _Users_dohyeonkim_k2030_platform_apps_web_app_api_polls_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xX19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyL2luZGV4LmpzP25hbWU9YXBwJTJGYXBpJTJGcG9sbHMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnBvbGxzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcG9sbHMlMkZyb3V0ZS50cyZhcHBEaXI9JTJGVXNlcnMlMkZkb2h5ZW9ua2ltJTJGazIwMzAtcGxhdGZvcm0lMkZhcHBzJTJGd2ViJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmRvaHllb25raW0lMkZrMjAzMC1wbGF0Zm9ybSUyRmFwcHMlMkZ3ZWImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ2dCO0FBQzdGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvZG9oeWVvbmtpbS9rMjAzMC1wbGF0Zm9ybS9hcHBzL3dlYi9hcHAvYXBpL3BvbGxzL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wb2xscy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3BvbGxzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9wb2xscy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9kb2h5ZW9ua2ltL2syMDMwLXBsYXRmb3JtL2FwcHMvd2ViL2FwcC9hcGkvcG9sbHMvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../node_modules/.pnpm/next@15.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpolls%2Froute&page=%2Fapi%2Fpolls%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpolls%2Froute.ts&appDir=%2FUsers%2Fdohyeonkim%2Fk2030-platform%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdohyeonkim%2Fk2030-platform%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/../../../node_modules/.pnpm/next@15.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ../../../node_modules/.pnpm/next@15.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \****************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./app/api/polls/route.ts":
/*!********************************!*\
  !*** ./app/api/polls/route.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/../../../node_modules/.pnpm/next@15.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/api/server.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/../../../node_modules/.pnpm/next-auth@4.24.11_next@15.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1__react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/supabaseClient */ \"(rsc)/./lib/supabaseClient.ts\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"(rsc)/../../../node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-node/v4.js\");\n\n\n\n\n\nfunction calculateRemainTime(endsAt) {\n    const endDate = new Date(endsAt);\n    const now = new Date();\n    const diff = endDate.getTime() - now.getTime();\n    if (diff <= 0) {\n        return {\n            remainTime: 'ë§ˆê°',\n            isClosed: true\n        };\n    }\n    const h = Math.floor(diff / (1000 * 60 * 60));\n    const m = Math.floor(diff % (1000 * 60 * 60) / (1000 * 60));\n    const s = Math.floor(diff % (1000 * 60) / 1000);\n    return {\n        remainTime: `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`,\n        isClosed: false\n    };\n}\nfunction toCamel(obj) {\n    if (Array.isArray(obj)) {\n        return obj.map(toCamel);\n    } else if (obj !== null && typeof obj === 'object') {\n        const newObj = {};\n        for(const key in obj){\n            const camel = key.replace(/_([a-z])/g, (_, c)=>c.toUpperCase());\n            newObj[camel] = toCamel(obj[key]);\n        }\n        return newObj;\n    }\n    return obj;\n}\nasync function GET() {\n    const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n    const userEmail = session?.user?.email;\n    try {\n        const { data: polls, error } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_3__.supabase.from('polls').select('*, categories(name)').order('created_at', {\n            ascending: false\n        });\n        if (error) {\n            throw error;\n        }\n        // ì¤‘ë³µ ì œê±°\n        const uniquePolls = polls.reduce((acc, current)=>{\n            const x = acc.find((item)=>item.id === current.id);\n            if (!x) {\n                return acc.concat([\n                    current\n                ]);\n            } else {\n                return acc;\n            }\n        }, []);\n        // ì‚¬ìš©ìžê°€ íˆ¬í‘œí•œ ê¸°ë¡ ê°€ì ¸ì˜¤ê¸°\n        let userVotes = [];\n        if (userEmail) {\n            const { data: votes, error: votesError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_3__.supabase.from('poll_votes').select('poll_id, option_id').eq('user_email', userEmail);\n            if (!votesError) {\n                userVotes = votes;\n            }\n        }\n        const pollsWithRemainTime = uniquePolls.map((poll)=>{\n            const { remainTime, isClosed } = calculateRemainTime(poll.ends_at);\n            const hasVoted = userVotes.some((vote)=>vote.poll_id === poll.id);\n            return {\n                ...poll,\n                remainTime,\n                isClosed,\n                hasVoted\n            };\n        });\n        // snake_case â†’ camelCase ë³€í™˜\n        const result = (pollsWithRemainTime ?? []).map(toCamel);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(result);\n    } catch (error) {\n        console.error('Error fetching polls:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Failed to fetch polls'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n    if (!session) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.'\n        }, {\n            status: 401\n        });\n    }\n    try {\n        const { question, options, category_id } = await request.json();\n        const now = new Date();\n        const endsAt = new Date(now.getTime() + 24 * 60 * 60 * 1000); // 24ì‹œê°„ ë’¤\n        const { data: inserted, error: insertError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_3__.supabase.from('polls').insert([\n            {\n                question,\n                options: options.map((text)=>({\n                        id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                        text,\n                        votes: 0\n                    })),\n                total_votes: 0,\n                created_at: now.toISOString(),\n                updated_at: now.toISOString(),\n                ends_at: endsAt.toISOString(),\n                user_email: session.user?.email ?? undefined,\n                category_id\n            }\n        ]).select('*, categories(name)').single();\n        if (insertError) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: insertError.message\n            }, {\n                status: 500\n            });\n        }\n        // snake_case â†’ camelCase ë³€í™˜\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(toCamel(inserted));\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'íˆ¬í‘œ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxDQUFDb0QsT0FBa0I7d0JBQ3RDekIsSUFBSWhELGdEQUFNQTt3QkFDVnlFO3dCQUNBdEIsT0FBTztvQkFDVDtnQkFDQXVCLGFBQWE7Z0JBQ2JDLFlBQVl0RSxJQUFJdUUsV0FBVztnQkFDM0JDLFlBQVl4RSxJQUFJdUUsV0FBVztnQkFDM0JwQixTQUFTdEQsT0FBTzBFLFdBQVc7Z0JBQzNCRSxZQUFZaEQsUUFBUUUsSUFBSSxFQUFFQyxTQUFTOEM7Z0JBQ25DVjtZQUNGO1NBQ0QsRUFBRS9CLE1BQU0sQ0FBQyx1QkFBdUIwQyxNQUFNO1FBRXZDLElBQUlULGFBQWE7WUFDZixPQUFPNUUscURBQVlBLENBQUNtRSxJQUFJLENBQUM7Z0JBQUUxQixPQUFPbUMsWUFBWVUsT0FBTztZQUFDLEdBQUc7Z0JBQUVqQixRQUFRO1lBQUk7UUFDekU7UUFFQSw0QkFBNEI7UUFDNUIsT0FBT3JFLHFEQUFZQSxDQUFDbUUsSUFBSSxDQUFDN0MsUUFBUXFEO0lBQ25DLEVBQUUsT0FBT2xDLE9BQU87UUFDZCxPQUFPekMscURBQVlBLENBQUNtRSxJQUFJLENBQ3RCO1lBQUUxQixPQUFPO1FBQWlCLEdBQzFCO1lBQUU0QixRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2RvaHllb25raW0vazIwMzAtcGxhdGZvcm0vYXBwcy93ZWIvYXBwL2FwaS9wb2xscy9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBnZXRTZXJ2ZXJTZXNzaW9uIH0gZnJvbSAnbmV4dC1hdXRoJztcbmltcG9ydCB7IGF1dGhPcHRpb25zIH0gZnJvbSAnQC9saWIvYXV0aCc7XG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJ0AvbGliL3N1cGFiYXNlQ2xpZW50JztcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IHsgVVVJRCB9IGZyb20gJ2NyeXB0byc7XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVJlbWFpblRpbWUoZW5kc0F0OiBzdHJpbmcpOiB7IHJlbWFpblRpbWU6IHN0cmluZzsgaXNDbG9zZWQ6IGJvb2xlYW4gfSB7XG4gIGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZShlbmRzQXQpO1xuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICBjb25zdCBkaWZmID0gZW5kRGF0ZS5nZXRUaW1lKCkgLSBub3cuZ2V0VGltZSgpO1xuXG4gIGlmIChkaWZmIDw9IDApIHtcbiAgICByZXR1cm4geyByZW1haW5UaW1lOiAn66eI6rCQJywgaXNDbG9zZWQ6IHRydWUgfTtcbiAgfVxuXG4gIGNvbnN0IGggPSBNYXRoLmZsb29yKGRpZmYgLyAoMTAwMCAqIDYwICogNjApKTtcbiAgY29uc3QgbSA9IE1hdGguZmxvb3IoKGRpZmYgJSAoMTAwMCAqIDYwICogNjApKSAvICgxMDAwICogNjApKTtcbiAgY29uc3QgcyA9IE1hdGguZmxvb3IoKGRpZmYgJSAoMTAwMCAqIDYwKSkgLyAxMDAwKTtcblxuICByZXR1cm4ge1xuICAgIHJlbWFpblRpbWU6IGAke2gudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfToke20udG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfToke3MudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWAsXG4gICAgaXNDbG9zZWQ6IGZhbHNlXG4gIH07XG59XG5cbmZ1bmN0aW9uIHRvQ2FtZWwob2JqOiBhbnkpOiBhbnkge1xuICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgcmV0dXJuIG9iai5tYXAodG9DYW1lbCk7XG4gIH0gZWxzZSBpZiAob2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgbmV3T2JqOiBhbnkgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgIGNvbnN0IGNhbWVsID0ga2V5LnJlcGxhY2UoL18oW2Etel0pL2csIChfLCBjKSA9PiBjLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgbmV3T2JqW2NhbWVsXSA9IHRvQ2FtZWwob2JqW2tleV0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3T2JqO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKGF1dGhPcHRpb25zKTtcbiAgY29uc3QgdXNlckVtYWlsID0gc2Vzc2lvbj8udXNlcj8uZW1haWw7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGE6IHBvbGxzLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdwb2xscycpXG4gICAgICAuc2VsZWN0KCcqLCBjYXRlZ29yaWVzKG5hbWUpJylcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgLy8g7KSR67O1IOygnOqxsFxuICAgIGNvbnN0IHVuaXF1ZVBvbGxzID0gcG9sbHMucmVkdWNlKChhY2M6IGFueVtdLCBjdXJyZW50OiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IHggPSBhY2MuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IGN1cnJlbnQuaWQpO1xuICAgICAgaWYgKCF4KSB7XG4gICAgICAgIHJldHVybiBhY2MuY29uY2F0KFtjdXJyZW50XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfVxuICAgIH0sIFtdKTtcblxuICAgIC8vIOyCrOyaqeyekOqwgCDtiKztkZztlZwg6riw66GdIOqwgOyguOyYpOq4sFxuICAgIGxldCB1c2VyVm90ZXM6IGFueVtdID0gW107XG4gICAgaWYgKHVzZXJFbWFpbCkge1xuICAgICAgY29uc3QgeyBkYXRhOiB2b3RlcywgZXJyb3I6IHZvdGVzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwb2xsX3ZvdGVzJylcbiAgICAgICAgLnNlbGVjdCgncG9sbF9pZCwgb3B0aW9uX2lkJylcbiAgICAgICAgLmVxKCd1c2VyX2VtYWlsJywgdXNlckVtYWlsKTtcblxuICAgICAgaWYgKCF2b3Rlc0Vycm9yKSB7XG4gICAgICAgIHVzZXJWb3RlcyA9IHZvdGVzO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHBvbGxzV2l0aFJlbWFpblRpbWUgPSB1bmlxdWVQb2xscy5tYXAocG9sbCA9PiB7XG4gICAgICBjb25zdCB7IHJlbWFpblRpbWUsIGlzQ2xvc2VkIH0gPSBjYWxjdWxhdGVSZW1haW5UaW1lKHBvbGwuZW5kc19hdCk7XG4gICAgICBjb25zdCBoYXNWb3RlZCA9IHVzZXJWb3Rlcy5zb21lKHZvdGUgPT4gdm90ZS5wb2xsX2lkID09PSBwb2xsLmlkKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnBvbGwsXG4gICAgICAgIHJlbWFpblRpbWUsXG4gICAgICAgIGlzQ2xvc2VkLFxuICAgICAgICBoYXNWb3RlZFxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIHNuYWtlX2Nhc2Ug4oaSIGNhbWVsQ2FzZSDrs4DtmZhcbiAgICBjb25zdCByZXN1bHQgPSAocG9sbHNXaXRoUmVtYWluVGltZSA/PyBbXSkubWFwKHRvQ2FtZWwpO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJlc3VsdCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcG9sbHM6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggcG9sbHMnIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oYXV0aE9wdGlvbnMpO1xuICBcbiAgaWYgKCFzZXNzaW9uKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ+uhnOq3uOyduOydtCDtlYTsmpTtlanri4jri6QuJyB9LFxuICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBxdWVzdGlvbiwgb3B0aW9ucywgY2F0ZWdvcnlfaWQgfSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgZW5kc0F0ID0gbmV3IERhdGUobm93LmdldFRpbWUoKSArIDI0ICogNjAgKiA2MCAqIDEwMDApOyAvLyAyNOyLnOqwhCDrkqRcblxuICAgIGNvbnN0IHsgZGF0YTogaW5zZXJ0ZWQsIGVycm9yOiBpbnNlcnRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbSgncG9sbHMnKS5pbnNlcnQoW1xuICAgICAge1xuICAgICAgICBxdWVzdGlvbixcbiAgICAgICAgb3B0aW9uczogb3B0aW9ucy5tYXAoKHRleHQ6IHN0cmluZykgPT4gKHtcbiAgICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgICAgdGV4dCxcbiAgICAgICAgICB2b3RlczogMCxcbiAgICAgICAgfSkpLFxuICAgICAgICB0b3RhbF92b3RlczogMCxcbiAgICAgICAgY3JlYXRlZF9hdDogbm93LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5vdy50b0lTT1N0cmluZygpLFxuICAgICAgICBlbmRzX2F0OiBlbmRzQXQudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXNlcl9lbWFpbDogc2Vzc2lvbi51c2VyPy5lbWFpbCA/PyB1bmRlZmluZWQsXG4gICAgICAgIGNhdGVnb3J5X2lkLFxuICAgICAgfSxcbiAgICBdKS5zZWxlY3QoJyosIGNhdGVnb3JpZXMobmFtZSknKS5zaW5nbGUoKTtcblxuICAgIGlmIChpbnNlcnRFcnJvcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IGluc2VydEVycm9yLm1lc3NhZ2UgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgICB9XG5cbiAgICAvLyBzbmFrZV9jYXNlIOKGkiBjYW1lbENhc2Ug67OA7ZmYXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHRvQ2FtZWwoaW5zZXJ0ZWQpKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAn7Yis7ZGcIOyDneyEseyXkCDsi6TtjKjtlojsirXri4jri6QuJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufSAiXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0U2VydmVyU2Vzc2lvbiIsImF1dGhPcHRpb25zIiwic3VwYWJhc2UiLCJ2NCIsInV1aWR2NCIsImNhbGN1bGF0ZVJlbWFpblRpbWUiLCJlbmRzQXQiLCJlbmREYXRlIiwiRGF0ZSIsIm5vdyIsImRpZmYiLCJnZXRUaW1lIiwicmVtYWluVGltZSIsImlzQ2xvc2VkIiwiaCIsIk1hdGgiLCJmbG9vciIsIm0iLCJzIiwidG9TdHJpbmciLCJwYWRTdGFydCIsInRvQ2FtZWwiLCJvYmoiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJuZXdPYmoiLCJrZXkiLCJjYW1lbCIsInJlcGxhY2UiLCJfIiwiYyIsInRvVXBwZXJDYXNlIiwiR0VUIiwic2Vzc2lvbiIsInVzZXJFbWFpbCIsInVzZXIiLCJlbWFpbCIsImRhdGEiLCJwb2xscyIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsIm9yZGVyIiwiYXNjZW5kaW5nIiwidW5pcXVlUG9sbHMiLCJyZWR1Y2UiLCJhY2MiLCJjdXJyZW50IiwieCIsImZpbmQiLCJpdGVtIiwiaWQiLCJjb25jYXQiLCJ1c2VyVm90ZXMiLCJ2b3RlcyIsInZvdGVzRXJyb3IiLCJlcSIsInBvbGxzV2l0aFJlbWFpblRpbWUiLCJwb2xsIiwiZW5kc19hdCIsImhhc1ZvdGVkIiwic29tZSIsInZvdGUiLCJwb2xsX2lkIiwicmVzdWx0IiwianNvbiIsImNvbnNvbGUiLCJzdGF0dXMiLCJQT1NUIiwicmVxdWVzdCIsInF1ZXN0aW9uIiwib3B0aW9ucyIsImNhdGVnb3J5X2lkIiwiaW5zZXJ0ZWQiLCJpbnNlcnRFcnJvciIsImluc2VydCIsInRleHQiLCJ0b3RhbF92b3RlcyIsImNyZWF0ZWRfYXQiLCJ0b0lTT1N0cmluZyIsInVwZGF0ZWRfYXQiLCJ1c2VyX2VtYWlsIiwidW5kZWZpbmVkIiwic2luZ2xlIiwibWVzc2FnZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/polls/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/../../../node_modules/.pnpm/next-auth@4.24.11_next@15.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1__react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next-auth/providers/google.js\");\n/* harmony import */ var _supabaseClient__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./supabaseClient */ \"(rsc)/./lib/supabaseClient.ts\");\n\n\nconst authOptions = {\n    debug: true,\n    providers: [\n        (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            clientId: process.env.GOOGLE_CLIENT_ID,\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET,\n            authorization: {\n                params: {\n                    prompt: \"select_account\",\n                    access_type: \"offline\",\n                    response_type: \"code\",\n                    scope: \"openid email profile\"\n                }\n            }\n        })\n    ],\n    pages: {\n        signIn: \"/auth/signin\",\n        error: \"/auth/error\"\n    },\n    session: {\n        strategy: \"jwt\",\n        maxAge: 30 * 24 * 60 * 60\n    },\n    cookies: {\n        sessionToken: {\n            name: `next-auth.session-token`,\n            options: {\n                httpOnly: true,\n                sameSite: 'lax',\n                path: '/',\n                secure: \"development\" === 'production'\n            }\n        },\n        callbackUrl: {\n            name: `next-auth.callback-url`,\n            options: {\n                sameSite: 'lax',\n                path: '/',\n                secure: \"development\" === 'production'\n            }\n        },\n        csrfToken: {\n            name: 'next-auth.csrf-token',\n            options: {\n                httpOnly: true,\n                sameSite: 'lax',\n                path: '/',\n                secure: \"development\" === 'production'\n            }\n        }\n    },\n    callbacks: {\n        async signIn ({ user }) {\n            if (user?.email) {\n                const { data, error } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.from('users').select('status').eq('email', user.email).single();\n                if (data) {\n                    if (data.status === 'ì •ì§€') {\n                        return `/auth/error?error=${encodeURIComponent('íšŒì›ì •ì§€ ì¤‘ìž…ë‹ˆë‹¤. ê´€ë¦¬ìžì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.')}`;\n                    }\n                    if (data.status === 'íƒˆí‡´') {\n                        return `/auth/error?error=${encodeURIComponent('íƒˆí‡´íšŒì›ìž…ë‹ˆë‹¤. ë™ì¼ ì´ë©”ì¼ë¡œ ìž¬ê°€ìž… ë¶ˆê°€í•©ë‹ˆë‹¤.')}`;\n                    }\n                }\n                await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.from('users').upsert([\n                    {\n                        email: user.email,\n                        name: user.name\n                    }\n                ], {\n                    onConflict: 'email'\n                });\n            }\n            return true;\n        },\n        async session ({ session, token }) {\n            console.log('ðŸ” [auth.ts] session callback ì‹œìž‘:', {\n                session,\n                token\n            });\n            if (session?.user?.email) {\n                const { data, error } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.from('users').select('is_admin').eq('email', session.user.email).single();\n                console.log('ðŸ” [auth.ts] supabase ì¡°íšŒ ê²°ê³¼:', {\n                    data,\n                    error\n                });\n                if (data) {\n                    session.user = {\n                        ...session.user,\n                        isAdmin: data.is_admin\n                    };\n                    console.log('ðŸ” [auth.ts] ì„¸ì…˜ ì—…ë°ì´íŠ¸ í›„:', session);\n                }\n            }\n            return session;\n        },\n        async jwt ({ token, account }) {\n            if (account) {\n                token.accessToken = account.access_token;\n            }\n            return token;\n        }\n    },\n    events: {\n        async signIn (message) {\n            console.log('ðŸ” [NextAuth] signIn event:', message);\n        },\n        async signOut (message) {\n            console.log('ðŸ” [NextAuth] signOut event:', message);\n        },\n        async createUser (message) {\n            console.log('ðŸ” [NextAuth] createUser event:', message);\n        },\n        async updateUser (message) {\n            console.log('ðŸ” [NextAuth] updateUser event:', message);\n        },\n        async linkAccount (message) {\n            console.log('ðŸ” [NextAuth] linkAccount event:', message);\n        },\n        async session (message) {\n            console.log('ðŸ” [NextAuth] session event:', message);\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVMLEtBQUssRUFBRU0sT0FBTyxFQUEyQztZQUNuRSxJQUFJQSxTQUFTO2dCQUNYTixNQUFNTyxXQUFXLEdBQUdELFFBQVFFLFlBQVk7WUFDMUM7WUFDQSxPQUFPUjtRQUNUO0lBQ0Y7SUFDQVMsUUFBUTtRQUNOLE1BQU1wQyxRQUFPcUMsT0FBTztZQUFJVCxRQUFRQyxHQUFHLENBQUMsK0JBQStCUTtRQUFVO1FBQzdFLE1BQU1DLFNBQVFELE9BQU87WUFBSVQsUUFBUUMsR0FBRyxDQUFDLGdDQUFnQ1E7UUFBVTtRQUMvRSxNQUFNRSxZQUFXRixPQUFPO1lBQUlULFFBQVFDLEdBQUcsQ0FBQyxtQ0FBbUNRO1FBQVU7UUFDckYsTUFBTUcsWUFBV0gsT0FBTztZQUFJVCxRQUFRQyxHQUFHLENBQUMsbUNBQW1DUTtRQUFVO1FBQ3JGLE1BQU1JLGFBQVlKLE9BQU87WUFBSVQsUUFBUUMsR0FBRyxDQUFDLG9DQUFvQ1E7UUFBVTtRQUN2RixNQUFNbkMsU0FBUW1DLE9BQU87WUFBSVQsUUFBUUMsR0FBRyxDQUFDLGdDQUFnQ1E7UUFBVTtJQUNqRjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9kb2h5ZW9ua2ltL2syMDMwLXBsYXRmb3JtL2FwcHMvd2ViL2xpYi9hdXRoLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gXCJuZXh0LWF1dGhcIjtcbmltcG9ydCBHb29nbGVQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9nb29nbGVcIjtcbmltcG9ydCB7IEpXVCB9IGZyb20gXCJuZXh0LWF1dGgvand0XCI7XG5pbXBvcnQgeyBTZXNzaW9uLCBBY2NvdW50IH0gZnJvbSBcIm5leHQtYXV0aFwiO1xuaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tICcuL3N1cGFiYXNlQ2xpZW50JztcblxuZXhwb3J0IGNvbnN0IGF1dGhPcHRpb25zOiBOZXh0QXV0aE9wdGlvbnMgPSB7XG4gIGRlYnVnOiB0cnVlLFxuICBwcm92aWRlcnM6IFtcbiAgICBHb29nbGVQcm92aWRlcih7XG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9JRCEsXG4gICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfU0VDUkVUISxcbiAgICAgIGF1dGhvcml6YXRpb246IHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgcHJvbXB0OiBcInNlbGVjdF9hY2NvdW50XCIsXG4gICAgICAgICAgYWNjZXNzX3R5cGU6IFwib2ZmbGluZVwiLFxuICAgICAgICAgIHJlc3BvbnNlX3R5cGU6IFwiY29kZVwiLFxuICAgICAgICAgIHNjb3BlOiBcIm9wZW5pZCBlbWFpbCBwcm9maWxlXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuICBdLFxuICBwYWdlczoge1xuICAgIHNpZ25JbjogXCIvYXV0aC9zaWduaW5cIixcbiAgICBlcnJvcjogXCIvYXV0aC9lcnJvclwiLFxuICB9LFxuICBzZXNzaW9uOiB7XG4gICAgc3RyYXRlZ3k6IFwiand0XCIsXG4gICAgbWF4QWdlOiAzMCAqIDI0ICogNjAgKiA2MCwgLy8gMzAgZGF5c1xuICB9LFxuICBjb29raWVzOiB7XG4gICAgc2Vzc2lvblRva2VuOiB7XG4gICAgICBuYW1lOiBgbmV4dC1hdXRoLnNlc3Npb24tdG9rZW5gLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgICBwYXRoOiAnLycsXG4gICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJ1xuICAgICAgfVxuICAgIH0sXG4gICAgY2FsbGJhY2tVcmw6IHtcbiAgICAgIG5hbWU6IGBuZXh0LWF1dGguY2FsbGJhY2stdXJsYCxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgICBwYXRoOiAnLycsXG4gICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJ1xuICAgICAgfVxuICAgIH0sXG4gICAgY3NyZlRva2VuOiB7XG4gICAgICBuYW1lOiAnbmV4dC1hdXRoLmNzcmYtdG9rZW4nLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgICBwYXRoOiAnLycsXG4gICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJ1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgY2FsbGJhY2tzOiB7XG4gICAgYXN5bmMgc2lnbkluKHsgdXNlciB9OiB7IHVzZXI6IGFueSB9KSB7XG4gICAgICBpZiAodXNlcj8uZW1haWwpIHtcbiAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgndXNlcnMnKVxuICAgICAgICAgIC5zZWxlY3QoJ3N0YXR1cycpXG4gICAgICAgICAgLmVxKCdlbWFpbCcsIHVzZXIuZW1haWwpXG4gICAgICAgICAgLnNpbmdsZSgpO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gJ+ygleyngCcpIHtcbiAgICAgICAgICAgIHJldHVybiBgL2F1dGgvZXJyb3I/ZXJyb3I9JHtlbmNvZGVVUklDb21wb25lbnQoJ+2ajOybkOygleyngCDspJHsnoXri4jri6QuIOq0gOumrOyekOyXkOqyjCDrrLjsnZjtlZjshLjsmpQuJyl9YDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAn7YOI7Ye0Jykge1xuICAgICAgICAgICAgcmV0dXJuIGAvYXV0aC9lcnJvcj9lcnJvcj0ke2VuY29kZVVSSUNvbXBvbmVudCgn7YOI7Ye07ZqM7JuQ7J6F64uI64ukLiDrj5nsnbwg7J2066mU7J2866GcIOyerOqwgOyehSDrtojqsIDtlanri4jri6QuJyl9YDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgndXNlcnMnKVxuICAgICAgICAgIC51cHNlcnQoW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sIHsgb25Db25mbGljdDogJ2VtYWlsJyB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH06IHsgc2Vzc2lvbjogU2Vzc2lvbjsgdG9rZW46IEpXVCB9KSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UjSBbYXV0aC50c10gc2Vzc2lvbiBjYWxsYmFjayDsi5zsnpE6JywgeyBzZXNzaW9uLCB0b2tlbiB9KTtcbiAgICAgIFxuICAgICAgaWYgKHNlc3Npb24/LnVzZXI/LmVtYWlsKSB7XG4gICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgICAgICAuc2VsZWN0KCdpc19hZG1pbicpXG4gICAgICAgICAgLmVxKCdlbWFpbCcsIHNlc3Npb24udXNlci5lbWFpbClcbiAgICAgICAgICAuc2luZ2xlKCk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbYXV0aC50c10gc3VwYWJhc2Ug7KGw7ZqMIOqysOqzvDonLCB7IGRhdGEsIGVycm9yIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICBzZXNzaW9uLnVzZXIgPSB7XG4gICAgICAgICAgICAuLi5zZXNzaW9uLnVzZXIsXG4gICAgICAgICAgICBpc0FkbWluOiBkYXRhLmlzX2FkbWluXG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbYXV0aC50c10g7IS47IWYIOyXheuNsOydtO2KuCDtm4Q6Jywgc2Vzc2lvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXNzaW9uO1xuICAgIH0sXG4gICAgYXN5bmMgand0KHsgdG9rZW4sIGFjY291bnQgfTogeyB0b2tlbjogSldUOyBhY2NvdW50OiBBY2NvdW50IHwgbnVsbCB9KSB7XG4gICAgICBpZiAoYWNjb3VudCkge1xuICAgICAgICB0b2tlbi5hY2Nlc3NUb2tlbiA9IGFjY291bnQuYWNjZXNzX3Rva2VuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH0sXG4gIH0sXG4gIGV2ZW50czoge1xuICAgIGFzeW5jIHNpZ25JbihtZXNzYWdlKSB7IGNvbnNvbGUubG9nKCfwn5SNIFtOZXh0QXV0aF0gc2lnbkluIGV2ZW50OicsIG1lc3NhZ2UpOyB9LFxuICAgIGFzeW5jIHNpZ25PdXQobWVzc2FnZSkgeyBjb25zb2xlLmxvZygn8J+UjSBbTmV4dEF1dGhdIHNpZ25PdXQgZXZlbnQ6JywgbWVzc2FnZSk7IH0sXG4gICAgYXN5bmMgY3JlYXRlVXNlcihtZXNzYWdlKSB7IGNvbnNvbGUubG9nKCfwn5SNIFtOZXh0QXV0aF0gY3JlYXRlVXNlciBldmVudDonLCBtZXNzYWdlKTsgfSxcbiAgICBhc3luYyB1cGRhdGVVc2VyKG1lc3NhZ2UpIHsgY29uc29sZS5sb2coJ/CflI0gW05leHRBdXRoXSB1cGRhdGVVc2VyIGV2ZW50OicsIG1lc3NhZ2UpOyB9LFxuICAgIGFzeW5jIGxpbmtBY2NvdW50KG1lc3NhZ2UpIHsgY29uc29sZS5sb2coJ/CflI0gW05leHRBdXRoXSBsaW5rQWNjb3VudCBldmVudDonLCBtZXNzYWdlKTsgfSxcbiAgICBhc3luYyBzZXNzaW9uKG1lc3NhZ2UpIHsgY29uc29sZS5sb2coJ/CflI0gW05leHRBdXRoXSBzZXNzaW9uIGV2ZW50OicsIG1lc3NhZ2UpOyB9LFxuICB9LFxufTsgIl0sIm5hbWVzIjpbIkdvb2dsZVByb3ZpZGVyIiwic3VwYWJhc2UiLCJhdXRoT3B0aW9ucyIsImRlYnVnIiwicHJvdmlkZXJzIiwiY2xpZW50SWQiLCJwcm9jZXNzIiwiZW52IiwiR09PR0xFX0NMSUVOVF9JRCIsImNsaWVudFNlY3JldCIsIkdPT0dMRV9DTElFTlRfU0VDUkVUIiwiYXV0aG9yaXphdGlvbiIsInBhcmFtcyIsInByb21wdCIsImFjY2Vzc190eXBlIiwicmVzcG9uc2VfdHlwZSIsInNjb3BlIiwicGFnZXMiLCJzaWduSW4iLCJlcnJvciIsInNlc3Npb24iLCJzdHJhdGVneSIsIm1heEFnZSIsImNvb2tpZXMiLCJzZXNzaW9uVG9rZW4iLCJuYW1lIiwib3B0aW9ucyIsImh0dHBPbmx5Iiwic2FtZVNpdGUiLCJwYXRoIiwic2VjdXJlIiwiY2FsbGJhY2tVcmwiLCJjc3JmVG9rZW4iLCJjYWxsYmFja3MiLCJ1c2VyIiwiZW1haWwiLCJkYXRhIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwic3RhdHVzIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwidXBzZXJ0Iiwib25Db25mbGljdCIsInRva2VuIiwiY29uc29sZSIsImxvZyIsImlzQWRtaW4iLCJpc19hZG1pbiIsImp3dCIsImFjY291bnQiLCJhY2Nlc3NUb2tlbiIsImFjY2Vzc190b2tlbiIsImV2ZW50cyIsIm1lc3NhZ2UiLCJzaWduT3V0IiwiY3JlYXRlVXNlciIsInVwZGF0ZVVzZXIiLCJsaW5rQWNjb3VudCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabaseClient.ts":
/*!*******************************!*\
  !*** ./lib/supabaseClient.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/../../../node_modules/.pnpm/@supabase+supabase-js@2.49.4/node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://ixqsfzuwqnsujphdwvjo.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4cXNmenV3cW5zdWpwaGR3dmpvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYzNzcyMTMsImV4cCI6MjA2MTk1MzIxM30.qmLjugw1dS0IyZT5u49Ae6FLOBROXDZqfQyDYtGxdEA\";\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2VDbGllbnQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBcUQ7QUFFckQsTUFBTUMsY0FBY0MsMENBQW9DO0FBQ3hELE1BQU1HLGtCQUFrQkgsa05BQXlDO0FBRTFELE1BQU1LLFdBQVdQLG1FQUFZQSxDQUFDQyxhQUFhSSxpQkFBaUIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9kb2h5ZW9ua2ltL2syMDMwLXBsYXRmb3JtL2FwcHMvd2ViL2xpYi9zdXBhYmFzZUNsaWVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCE7XG5jb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSE7XG5cbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5KTsgIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlQW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwic3VwYWJhc2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabaseClient.ts\n");

/***/ }),

/***/ "(ssr)/../../../node_modules/.pnpm/next@15.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!****************************************************************************************************************************************************************************************!*\
  !*** ../../../node_modules/.pnpm/next@15.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \****************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@15.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1","vendor-chunks/next-auth@4.24.11_next@15.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1__react-dom@18.3.1_react@18.3.1__react@18.3.1","vendor-chunks/@babel+runtime@7.27.1","vendor-chunks/tr46@0.0.3","vendor-chunks/@supabase+auth-js@2.69.1","vendor-chunks/@supabase+realtime-js@2.11.2","vendor-chunks/@supabase+postgrest-js@1.19.4","vendor-chunks/@supabase+node-fetch@2.6.15","vendor-chunks/whatwg-url@5.0.0","vendor-chunks/@supabase+storage-js@2.7.1","vendor-chunks/@supabase+supabase-js@2.49.4","vendor-chunks/@supabase+functions-js@2.4.4","vendor-chunks/webidl-conversions@3.0.1","vendor-chunks/jose@4.15.9","vendor-chunks/openid-client@5.7.1","vendor-chunks/oauth@0.9.15","vendor-chunks/object-hash@2.2.0","vendor-chunks/preact@10.26.6","vendor-chunks/uuid@8.3.2","vendor-chunks/yallist@4.0.0","vendor-chunks/preact-render-to-string@5.2.6_preact@10.26.6","vendor-chunks/lru-cache@6.0.0","vendor-chunks/cookie@0.7.2","vendor-chunks/oidc-token-hash@5.1.0","vendor-chunks/@panva+hkdf@1.2.1","vendor-chunks/uuid@9.0.1"], () => (__webpack_exec__("(rsc)/../../../node_modules/.pnpm/next@15.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpolls%2Froute&page=%2Fapi%2Fpolls%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpolls%2Froute.ts&appDir=%2FUsers%2Fdohyeonkim%2Fk2030-platform%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdohyeonkim%2Fk2030-platform%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();